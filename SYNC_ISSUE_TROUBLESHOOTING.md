# ุฏููู ุงุณุชูุดุงู ูุฅุตูุงุญ ูุดุงูู ุงููุฒุงููุฉ

## ๐จ ุงููุดููุฉ ุงูุญุงููุฉ

**ุงููุดููุฉ**: ุชู ุฅูุดุงุก 5 ุทูุจุงุช ุฃูููุงูู ูููู ุชูุช ูุฒุงููุฉ ุทูุจ ูุงุญุฏ ููุท.

## ๐ ุฎุทูุงุช ุงูุชุดุฎูุต

### 1. ูุญุต ุงูุทูุจุงุช ุงูุฃูููุงูู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช

```sql
-- ูุญุต ุฌููุน ุงูุทูุจุงุช ุงูุฃูููุงูู
SELECT id, offline_id, status, invoice_number, total, created_at, sync_attempted_at, sync_error 
FROM offline_orders 
WHERE status IN ('pending_sync', 'failed', 'syncing') 
ORDER BY created_at DESC;
```

### 2. ูุญุต ูููุงุช ุงูุณุฌู

```bash
# ูุญุต ุขุฎุฑ ุณุฌูุงุช ุงููุฒุงููุฉ
tail -f storage/logs/laravel.log | grep -E "(ูุฒุงููุฉ|sync|offline)"

# ุฃู ูุญุต ุณุฌูุงุช ุงูููู
grep -E "(ูุฒุงููุฉ|sync|offline)" storage/logs/laravel-$(date +%Y-%m-%d).log
```

### 3. ูุญุต ุญุงูุฉ ุงูุฃููุงู

```sql
-- ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุฃู cache
-- ุงูุจุญุซ ุนู ููุงุชูุญ ุงูุฃููุงู:
-- sync_offline_orders_{user_id}
-- sync_quick_lock_{user_id}
-- invoice_numbering_system_lock
```

## ๐๏ธ ุงูุญููู ุงููุญุชููุฉ

### ุงูุญู ุงูุฃูู: ุฅุนุงุฏุฉ ุชุนููู ุญุงูุฉ ุงูุทูุจุงุช ุงูุนุงููุฉ

```sql
-- ุฅุนุงุฏุฉ ุชุนููู ุงูุทูุจุงุช ูู ุญุงูุฉ 'syncing' ุฅูู 'pending_sync'
UPDATE offline_orders 
SET status = 'pending_sync', sync_error = NULL
WHERE status = 'syncing' 
AND sync_attempted_at < DATE_SUB(NOW(), INTERVAL 10 MINUTE);
```

### ุงูุญู ุงูุซุงูู: ูุณุญ ุงูุฃููุงู ุงููุนููุฉ

```bash
# ุฅุฐุง ููุช ุชุณุชุฎุฏู Redis
redis-cli FLUSHDB

# ุฃู ุฅุฐุง ููุช ุชุณุชุฎุฏู file cache
php artisan cache:clear
```

### ุงูุญู ุงูุซุงูุซ: ูุญุต ูุฏูู ููุทูุจุงุช

```sql
-- ูุญุต ุงูุทูุจุงุช ุงููุฒุงููุฉ ุงูููู
SELECT COUNT(*) as synced_today 
FROM orders 
WHERE DATE(created_at) = CURDATE();

-- ูุญุต ุงูุทูุจุงุช ุงูุฃูููุงูู ุงููุนููุฉ
SELECT COUNT(*) as pending_offline
FROM offline_orders 
WHERE status IN ('pending_sync', 'failed');
```

### ุงูุญู ุงูุฑุงุจุน: ุชุดุบูู ุงููุฒุงููุฉ ูุฏููุงู

```bash
# ูู ุฎูุงู ูุชุตูุญ ุงููุทูุฑ (Developer Console)
# ุงูุชุญ ุงูุตูุญุฉ ูุงูุชุจ:
if (window.offlineManager) {
    window.offlineManager.autoSyncOfflineOrders();
}

# ุฃู ูู ุฎูุงู ุทูุจ ูุจุงุดุฑ
fetch('/offline/sync', {
    method: 'POST',
    headers: {
        'Content-Type': 'application/json',
        'X-CSRF-TOKEN': document.querySelector('meta[name="csrf-token"]').content
    }
}).then(r => r.json()).then(console.log);
```

## ๐ง ูุตุงุฆุญ ูููุน ุงููุดุงูู

### 1. ูุฑุงูุจุฉ ุงูุณุฌูุงุช ุจุงูุชุธุงู

```bash
# ุฅูุดุงุก alias ููุฑุงูุจุฉ ุงูุณุฌูุงุช
alias watch-sync="tail -f storage/logs/laravel.log | grep -E '(ูุฒุงููุฉ|sync|offline)'"
```

### 2. ูุญุต ุฏูุฑู ููุทูุจุงุช ุงููุนููุฉ

```sql
-- ุงุณุชุนูุงู ูููุญุต ุงูุฏูุฑู
SELECT 
    status,
    COUNT(*) as count,
    MIN(created_at) as oldest,
    MAX(created_at) as newest
FROM offline_orders 
GROUP BY status;
```

### 3. ุชูุธูู ุฏูุฑู ููุทูุจุงุช ุงููุฏููุฉ

```sql
-- ุญุฐู ุงูุทูุจุงุช ุงููุฒุงููุฉ ุจูุฌุงุญ ูุงูุฃูุฏู ูู 7 ุฃูุงู
DELETE FROM offline_orders 
WHERE status = 'synced' 
AND created_at < DATE_SUB(NOW(), INTERVAL 7 DAY);
```

## ๐ ูุคุดุฑุงุช ูุฌุจ ูุฑุงูุจุชูุง

1. **ุนุฏุฏ ุงูุทูุจุงุช ุงููุนููุฉ**: ูุฌุจ ุฃู ูููู 0 ุฃู ูุฑูุจุงู ูู 0
2. **ููุช ุขุฎุฑ ูุฒุงููุฉ**: ูุฌุจ ุฃู ูููู ุญุฏูุซุงู
3. **ุฑุณุงุฆู ุงูุฎุทุฃ**: ูุฌุจ ุนุฏู ูุฌูุฏ ุฃุฎุทุงุก ูุชูุฑุฑุฉ
4. **ุญุงูุฉ ุงูุฃููุงู**: ูุฌุจ ุฃู ุชููู ููุชูุญุฉ ุนุงุฏุฉ

## ๐ฏ ุงูุฎุทูุงุช ุงูุชุงููุฉ

1. **ูุญุต ูุงุนุฏุฉ ุงูุจูุงูุงุช**: ุชุฃูุฏ ูู ุญุงูุฉ ุงูุทูุจุงุช ุงูุฃูููุงูู
2. **ูุญุต ุงูุณุฌูุงุช**: ุงุจุญุซ ุนู ุฑุณุงุฆู ุงูุฎุทุฃ ุฃู ุงูุชุฎุทู
3. **ูุณุญ ุงูุฃููุงู**: ุงูุณุญ ุฃู ุฃููุงู ูุนููุฉ
4. **ุฅุนุงุฏุฉ ุงููุฒุงููุฉ**: ุฌุฑุจ ุงููุฒุงููุฉ ูุฏููุงู
5. **ูุฑุงูุจุฉ ุงููุชุงุฆุฌ**: ุชุฃูุฏ ูู ูุฌุงุญ ุงููุฒุงููุฉ

## ๐จ ุชุญุฏูุซุงุช ุงูุญูุงูุฉ ุงูุฃุฎูุฑุฉ

ุชู ุฅุถุงูุฉ ุทุจูุงุช ุญูุงูุฉ ูููุฉ ุฌุฏุงู ูููุน ุงูุชูุฑุงุฑุ ูุงูุชู ูุฏ ุชููู **ููุฑุทุฉ ุงูุญูุงูุฉ**:

1. โ **ููู ุงููุฒุงููุฉ ุงูุนุงู**: 10 ุฏูุงุฆู
2. โ **ููู ุณุฑูุน**: 5 ุซูุงูู  
3. โ **ูุญุต ุฑูู ุงููุงุชูุฑุฉ**: ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
4. โ **ูุญุต offline_id**: ูู metadata
5. โ **ูุญุต ุงููุญุชูู ุงููุชุทุงุจู**: ุชุทุงุจู ูุงูู ููุนูุงุตุฑ
6. โ **ููู ุงูุทูุจ ุงููุงุญุฏ**: 5 ุฏูุงุฆู

**ุงููุดููุฉ ุงููุญุชููุฉ**: ูุฐู ุงูุญูุงูุฉ ูุฏ ุชููุน ูุฒุงููุฉ ุทูุจุงุช ุตุญูุญุฉ!

## ๐ก ุงูุชูุตูุฉ

1. ูุญุต ุงูุณุฌูุงุช ููุนุฑูุฉ ุณุจุจ ุชุฎุทู ุงูุทูุจุงุช
2. ุงูุชุฃูุฏ ูู ุนุฏู ูุฌูุฏ ุฃููุงู ูุนููุฉ
3. ุฅุนุงุฏุฉ ุชุนููู ุญุงูุฉ ุงูุทูุจุงุช ุงูุนุงููุฉ
4. ุชุฌุฑุจุฉ ุงููุฒุงููุฉ ูุฏููุงู 